<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime &amp; Gacha ¬∑ Jeffi ‚ú¶</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            /* ‚îÄ‚îÄ Site palette (default / no game selected) ‚îÄ‚îÄ */
            --lavender:    #C4A8E8;
            --pink:        #F5B8C8;
            --mint:        #A8DDD0;
            --sky:         #A8C8F0;
            --text-dark:   #3D2E5C;
            --text-mid:    #7A6898;
            --text-light:  #B8A8D0;
            --card-bg:     rgba(255,255,255,0.60);
            --card-border: rgba(196,168,232,0.35);
            --shadow:      0 8px 40px rgba(196,168,232,0.22);

            /* ‚îÄ‚îÄ Theme accent (changes per game) ‚îÄ‚îÄ */
            --t-primary:   #C4A8E8;
            --t-secondary: #A8DDD0;
            --t-accent:    #F5B8C8;
            --t-glow:      rgba(196,168,232,0.35);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(150deg, #F0F8FF 0%, #FDF5FF 50%, #FFF0F8 100%);
            color: var(--text-dark);
            overflow-x: hidden;
            min-height: 100vh;
            transition: background 0.7s ease;
        }

        /* ‚îÄ‚îÄ Theme overlays ‚îÄ‚îÄ */
        body.theme-pjsk   { background: linear-gradient(150deg, #FFF0FA 0%, #F8F0FF 40%, #F0F5FF 100%); }
        body.theme-maimai { background: linear-gradient(150deg, #FFF0FF 0%, #F0FFFF 50%, #FFFDF0 100%); }
        body.theme-arknights { background: linear-gradient(150deg, #0D1B2A 0%, #162535 50%, #1C2C3E 100%); }

        body.theme-arknights { --text-dark: #E8EDF2; --text-mid: #9BAABB; --text-light: #5A7080; --card-bg: rgba(30,50,68,0.80); --card-border: rgba(230,126,34,0.30); --shadow: 0 8px 40px rgba(0,0,0,0.4); }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #F0F8FF; }
        ::-webkit-scrollbar-thumb { background: var(--mint); border-radius: 10px; }

        /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
        nav {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            padding: 15px 48px;
            display: flex; align-items: center; justify-content: space-between;
            background: rgba(255,255,255,0.72);
            backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
            border-bottom: 1px solid rgba(196,168,232,0.22);
            gap: 12px;
            transition: background 0.5s, border-color 0.5s;
        }
        body.theme-arknights nav { background: rgba(13,27,42,0.88); border-color: rgba(230,126,34,0.25); }

        .nav-logo {
            font-size: 1.35rem; font-weight: 900; letter-spacing: -0.5px;
            background: linear-gradient(135deg, #9B72CF, #E8709A);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            flex-shrink: 0; text-decoration: none;
        }
        .nav-links { display: flex; gap: 4px; list-style: none; flex: 1; justify-content: center; flex-wrap: wrap; }
        .nav-links a {
            text-decoration: none; color: var(--text-mid);
            font-weight: 700; font-size: 0.88rem;
            padding: 8px 16px; border-radius: 20px; transition: all 0.25s;
            white-space: nowrap;
        }
        .nav-links a:hover  { background: rgba(168,221,208,0.2); color: var(--text-dark); }
        .nav-links a.active { background: linear-gradient(135deg,rgba(196,168,232,0.3),rgba(245,184,200,0.3)); color: var(--text-dark); }

        .lang-btn {
            flex-shrink: 0;
            background: rgba(255,255,255,0.7); backdrop-filter: blur(8px);
            border: 1.5px solid var(--card-border); color: var(--text-mid);
            font-family: 'Nunito', sans-serif; font-size: 0.82rem; font-weight: 800;
            padding: 7px 14px; border-radius: 20px; cursor: pointer;
            transition: all 0.25s;
        }
        .lang-btn:hover {
            background: linear-gradient(135deg, var(--mint), var(--sky));
            color: white; border-color: transparent;
        }

        /* ‚îÄ‚îÄ PARTICLES ‚îÄ‚îÄ */
        .particles-container { position: fixed; inset: 0; pointer-events: none; z-index: 0; overflow: hidden; }
        .particle { position: absolute; font-size: 1.2rem; animation: floatUp linear infinite; opacity: 0; }
        @keyframes floatUp {
            0%   { transform: translateY(100vh) rotate(0deg);    opacity: 0; }
            8%   { opacity: 0.8; }
            92%  { opacity: 0.8; }
            100% { transform: translateY(-120px) rotate(540deg); opacity: 0; }
        }

        /* ‚îÄ‚îÄ PAGE HERO ‚îÄ‚îÄ */
        .page-hero {
            padding: 120px 48px 56px;
            text-align: center; position: relative; z-index: 1;
        }
        .hero-badge {
            display: inline-block;
            background: rgba(196,168,232,0.18); border: 1px solid rgba(196,168,232,0.4);
            color: var(--text-mid); font-size: 0.78rem; font-weight: 800;
            padding: 6px 16px; border-radius: 20px; letter-spacing: 1px;
            text-transform: uppercase; margin-bottom: 18px;
            transition: background 0.5s, border-color 0.5s, color 0.5s;
        }
        .hero-title {
            font-size: clamp(2.2rem, 5vw, 3.6rem); font-weight: 900;
            letter-spacing: -1px; line-height: 1.1; margin-bottom: 14px;
            background: linear-gradient(135deg, var(--t-primary), var(--t-accent));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            transition: all 0.5s;
        }
        .hero-sub {
            font-size: 1.05rem; color: var(--text-mid); font-weight: 600;
            max-width: 480px; margin: 0 auto;
        }

        /* ‚îÄ‚îÄ WRAPPER ‚îÄ‚îÄ */
        .page-wrap { max-width: 1100px; margin: 0 auto; padding: 0 32px 80px; position: relative; z-index: 1; }

        /* ‚îÄ‚îÄ GAME SELECTOR ‚îÄ‚îÄ */
        .game-selector {
            display: flex; gap: 14px; justify-content: center; flex-wrap: wrap;
            margin-bottom: 48px;
        }
        .game-tab {
            display: flex; align-items: center; gap: 10px;
            padding: 14px 28px; border-radius: 24px; cursor: pointer;
            border: 2px solid var(--card-border);
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            font-family: 'Nunito', sans-serif; font-weight: 800; font-size: 0.95rem;
            color: var(--text-mid);
            transition: all 0.35s ease;
            position: relative; overflow: hidden;
        }
        .game-tab::before {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(135deg, var(--t-primary), var(--t-accent));
            opacity: 0; transition: opacity 0.35s;
        }
        .game-tab:hover::before, .game-tab.active::before { opacity: 0.12; }
        .game-tab.active {
            border-color: var(--t-primary);
            color: var(--text-dark);
            box-shadow: 0 4px 24px var(--t-glow);
        }
        .game-tab:hover { border-color: var(--t-primary); color: var(--text-dark); transform: translateY(-2px); }
        .game-tab-icon { font-size: 1.4rem; position: relative; z-index: 1; }
        .game-tab-label { position: relative; z-index: 1; }
        .game-tab-sub { font-size: 0.72rem; font-weight: 600; color: var(--text-light); display: block; position: relative; z-index: 1; }

        /* ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ */
        .section-header { text-align: center; margin-bottom: 32px; }
        .section-label {
            display: inline-block;
            font-size: 0.72rem; font-weight: 800; letter-spacing: 2px;
            text-transform: uppercase; color: var(--text-light);
            background: rgba(196,168,232,0.15); border: 1px solid var(--card-border);
            padding: 5px 14px; border-radius: 20px; margin-bottom: 12px;
        }
        .section-title { font-size: clamp(1.5rem, 3vw, 2rem); font-weight: 900; letter-spacing: -0.5px; margin-bottom: 8px; }
        .section-sub { font-size: 0.9rem; color: var(--text-mid); font-weight: 600; }

        /* ‚îÄ‚îÄ CHARACTER GRID ‚îÄ‚îÄ */
        .char-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 16px;
        }

        /* ‚îÄ‚îÄ CHARACTER CARD ‚îÄ‚îÄ */
        .char-card {
            background: var(--card-bg);
            border: 1.5px solid var(--card-border);
            border-radius: 22px;
            padding: 20px 14px 16px;
            text-align: center;
            backdrop-filter: blur(12px);
            box-shadow: var(--shadow);
            transition: all 0.35s ease;
            cursor: default;
            position: relative; overflow: hidden;
        }
        .char-card::before {
            content: ''; position: absolute; inset: 0; border-radius: 22px;
            background: linear-gradient(160deg, var(--t-primary), var(--t-accent));
            opacity: 0.07; transition: opacity 0.35s;
        }
        .char-card:hover { transform: translateY(-6px); box-shadow: 0 16px 48px var(--t-glow); }
        .char-card:hover::before { opacity: 0.15; }

        /* Rarity border glow */
        .char-card.rarity-6 { border-color: rgba(230,126,34,0.6); }
        .char-card.rarity-5 { border-color: rgba(255,193,7,0.5); }
        .char-card.rarity-4 { border-color: rgba(196,168,232,0.6); }
        .char-card.rarity-3 { border-color: rgba(168,221,208,0.5); }
        .char-card.rarity-2 { border-color: rgba(168,200,240,0.4); }
        .char-card.rarity-1 { border-color: rgba(200,200,200,0.3); }

        .char-art {
            width: 88px; height: 88px; border-radius: 50%;
            margin: 0 auto 12px;
            background: linear-gradient(135deg, var(--t-primary), var(--t-accent));
            display: flex; align-items: center; justify-content: center;
            font-size: 2.2rem;
            border: 2.5px solid rgba(255,255,255,0.5);
            position: relative; z-index: 1;
            overflow: hidden;
            transition: background 0.5s;
        }
        .char-art img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        .char-fav {
            position: absolute; top: 10px; right: 12px;
            font-size: 0.85rem; z-index: 2;
        }
        .char-name {
            font-size: 0.9rem; font-weight: 900; color: var(--text-dark);
            margin-bottom: 3px; position: relative; z-index: 1;
            transition: color 0.5s;
        }
        .char-name-jp {
            font-size: 0.75rem; color: var(--text-light); font-weight: 600;
            margin-bottom: 6px; position: relative; z-index: 1;
        }
        .char-tag {
            display: inline-block; font-size: 0.7rem; font-weight: 800;
            padding: 3px 10px; border-radius: 12px;
            background: rgba(196,168,232,0.2); color: var(--text-mid);
            margin-bottom: 8px; position: relative; z-index: 1;
            transition: background 0.5s;
        }
        .char-note {
            font-size: 0.72rem; color: var(--text-light); font-style: italic;
            font-weight: 600; position: relative; z-index: 1;
            line-height: 1.4;
        }
        .rarity-stars {
            font-size: 0.65rem; color: #FFD700; letter-spacing: 1px;
            margin-bottom: 4px; position: relative; z-index: 1;
        }

        /* ‚îÄ‚îÄ EMPTY / PLACEHOLDER CARD ‚îÄ‚îÄ */
        .char-card.placeholder {
            border-style: dashed; opacity: 0.5;
            cursor: pointer;
        }
        .char-card.placeholder:hover { opacity: 0.8; }

        /* ‚îÄ‚îÄ OWNED BADGE ‚îÄ‚îÄ */
        .owned-badge {
            display: inline-block; font-size: 0.65rem; font-weight: 800;
            padding: 2px 8px; border-radius: 10px;
            background: rgba(72,199,142,0.2); color: #3bb87a;
            border: 1px solid rgba(72,199,142,0.4);
            margin-top: 4px; position: relative; z-index: 1;
        }

        /* ‚îÄ‚îÄ CARD (generic glass card) ‚îÄ‚îÄ */
        .card {
            background: var(--card-bg);
            border: 1.5px solid var(--card-border);
            border-radius: 22px;
            backdrop-filter: blur(12px);
            box-shadow: var(--shadow);
            transition: all 0.35s;
        }

        /* ‚îÄ‚îÄ GAME INFO BAR ‚îÄ‚îÄ */
        .game-info-bar {
            display: flex; align-items: center; gap: 16px; flex-wrap: wrap;
            padding: 18px 24px; border-radius: 18px; margin-bottom: 32px;
            background: var(--card-bg); border: 1.5px solid var(--card-border);
            backdrop-filter: blur(12px);
            transition: all 0.5s;
        }
        .game-info-icon { font-size: 2.4rem; }
        .game-info-name { font-size: 1.2rem; font-weight: 900; color: var(--text-dark); transition: color 0.5s; }
        .game-info-desc { font-size: 0.82rem; color: var(--text-mid); font-weight: 600; }
        .game-info-pills { display: flex; gap: 8px; flex-wrap: wrap; margin-left: auto; }
        .pill {
            font-size: 0.72rem; font-weight: 800; padding: 5px 12px; border-radius: 14px;
            background: rgba(196,168,232,0.15); color: var(--text-mid);
            border: 1px solid var(--card-border);
        }

        /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
        footer {
            text-align: center; padding: 40px 24px;
            color: var(--text-light); font-size: 0.82rem; font-weight: 700;
            border-top: 1px solid var(--card-border);
        }
        .footer-social { display: flex; gap: 12px; justify-content: center; margin-bottom: 10px; }
        .footer-social a {
            width: 36px; height: 36px; border-radius: 50%; display: flex;
            align-items: center; justify-content: center;
            background: var(--card-bg); border: 1.5px solid var(--card-border);
            color: var(--text-mid); font-size: 0.78rem; font-weight: 800;
            text-decoration: none; transition: all 0.25s;
        }
        .footer-social a:hover { background: var(--lavender); color: white; border-color: transparent; }

        /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
        @media (max-width: 768px) {
            nav { padding: 12px 20px; }
            .page-hero { padding: 100px 20px 40px; }
            .page-wrap { padding: 0 16px 60px; }
            .game-tab { padding: 12px 18px; font-size: 0.85rem; }
            .char-grid { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 12px; }
        }
        @media (max-width: 500px) {
            .game-selector { gap: 8px; }
            .game-tab { padding: 10px 14px; font-size: 0.8rem; }
        }
    </style>
</head>
<body>

<!-- PARTICLES -->
<div class="particles-container" id="particles"></div>

<!-- NAV -->
<nav>
    <a href="index.html" class="nav-logo">Jeffi ‚ú¶</a>
    <ul class="nav-links">
        <li><a href="index.html"                data-en="üè† Home"      data-zh="üè† È¶ñÈ°µ">üè† Home</a></li>
        <li><a href="projects.html"             data-en="üöÄ Projects"  data-zh="üöÄ È°πÁõÆ">üöÄ Projects</a></li>
        <li><a href="games.html"                data-en="üéÆ Games"     data-zh="üéÆ Ê∏∏Êàè">üéÆ Games</a></li>
        <li><a href="anime.html"  class="active" data-en="‚ú® Anime"      data-zh="‚ú® Âä®Êº´">‚ú® Anime</a></li>
        <li><a href="index.html#music"          data-en="üéµ Music"     data-zh="üéµ Èü≥‰πê">üéµ Music</a></li>
        <li><a href="index.html#gallery"        data-en="üñºÔ∏è Gallery"   data-zh="üñºÔ∏è Áõ∏ÂÜå">üñºÔ∏è Gallery</a></li>
    </ul>
    <button class="lang-btn" id="langBtn">üåê ‰∏≠Êñá</button>
</nav>

<!-- HERO -->
<div class="page-hero">
    <div class="hero-badge" data-en="‚ú® Anime &amp; Gacha" data-zh="‚ú® Âä®Êº´‰∏éÊâãÊ∏∏">‚ú® Anime &amp; Gacha</div>
    <h1 class="hero-title" data-en="Characters I Love" data-zh="ÊàëÁà±ÁöÑËßíËâ≤">Characters I Love</h1>
    <p class="hero-sub" data-en="Click a game to explore my roster and favourite picks" data-zh="ÁÇπÂáªÊ∏∏ÊàèÊü•ÁúãÊàëÁöÑÈòµÂÆπÂíåÊúÄÁà±ËßíËâ≤">Click a game to explore my roster and favourite picks</p>
</div>

<!-- MAIN -->
<div class="page-wrap">

    <!-- GAME SELECTOR TABS -->
    <div class="game-selector" id="gameTabs">
        <button class="game-tab active" data-game="pjsk">
            <span class="game-tab-icon">üåà</span>
            <span class="game-tab-label">
                Project Sekai
                <span class="game-tab-sub" data-en="Colorful Stage" data-zh="Â§öÂΩ©ËàûÂè∞">Colorful Stage</span>
            </span>
        </button>
        <button class="game-tab" data-game="maimai">
            <span class="game-tab-icon">üéµ</span>
            <span class="game-tab-label">
                maimai DX
                <span class="game-tab-sub" data-en="Rhythm Arcade" data-zh="Èü≥Ê∏∏Ë°óÊú∫">Rhythm Arcade</span>
            </span>
        </button>
        <button class="game-tab" data-game="arknights">
            <span class="game-tab-icon">‚öîÔ∏è</span>
            <span class="game-tab-label">
                Arknights
                <span class="game-tab-sub" data-en="ÊòéÊó•ÊñπËàü" data-zh="ÊòéÊó•ÊñπËàü">ÊòéÊó•ÊñπËàü</span>
            </span>
        </button>
    </div>

    <!-- GAME INFO BAR -->
    <div class="game-info-bar" id="gameInfoBar">
        <div class="game-info-icon" id="infoIcon">üåà</div>
        <div>
            <div class="game-info-name" id="infoName">Project Sekai: Colorful Stage</div>
            <div class="game-info-desc" id="infoDesc">feat. Hatsune Miku ¬∑ Rhythm ¬∑ Mobile</div>
        </div>
        <div class="game-info-pills" id="infoPills"></div>
    </div>

    <!-- CHARACTER GRID -->
    <div class="section-header">
        <div class="section-label" id="gridLabel" data-en="My Picks" data-zh="ÊàëÁöÑÈÄâÊã©">My Picks</div>
        <h2 class="section-title" id="gridTitle" data-en="Favourite Characters" data-zh="ÊúÄÁà±ËßíËâ≤">Favourite Characters</h2>
        <p class="section-sub" id="gridSub" data-en="‚≠ê = Favourite  ¬∑  Hover a card to feel the vibe" data-zh="‚≠ê = ÊúÄÁà±  ¬∑  ÊÇ¨ÂÅúËßíËâ≤Âç°ÊÑüÂèóÊ∞õÂõ¥">‚≠ê = Favourite  ¬∑  Hover a card to feel the vibe</p>
    </div>
    <div class="char-grid" id="charGrid"></div>

</div>

<!-- FOOTER -->
<footer>
    <div class="footer-social">
        <a href="#" title="GitHub">GH</a>
        <a href="#" title="Twitter/X">ùïè</a>
        <a href="#" title="Discord">DC</a>
        <a href="#" title="YouTube">‚ñ∂</a>
    </div>
    <p data-en="Made with üíú by Jeffi &nbsp;¬∑&nbsp; 2026" data-zh="Áî± Jeffi Áî® üíú Âà∂‰Ωú &nbsp;¬∑&nbsp; 2026">
        Made with üíú by Jeffi &nbsp;¬∑&nbsp; 2026
    </p>
</footer>

<script>
/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ PARTICLES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const PARTICLE_SETS = {
    pjsk:      ['üåà','‚ú®','üé∏','üé§','üé∂','‚≠ê','üåü','üí´','üéÄ'],
    maimai:    ['üéµ','üé∂','‚≠ê','üí´','üå∏','üéØ','‚ú®','üé™'],
    arknights: ['‚öîÔ∏è','üõ°Ô∏è','üèπ','üíä','üî•','‚≠ê','üåô','ü¶Ö'],
    default:   ['‚ú®','‚≠ê','üí´','üåü','üéÄ','üå∏','üéµ'],
};
let currentParticleSet = PARTICLE_SETS.default;
const pCont = document.getElementById('particles');

function spawnParticle() {
    const el = document.createElement('div');
    el.className = 'particle';
    el.textContent = currentParticleSet[Math.floor(Math.random() * currentParticleSet.length)];
    el.style.left = Math.random() * 100 + 'vw';
    el.style.animationDuration = (8 + Math.random() * 10) + 's';
    el.style.animationDelay = '0s';
    el.style.fontSize = (0.8 + Math.random() * 0.8) + 'rem';
    pCont.appendChild(el);
    setTimeout(() => el.remove(), 20000);
}
setInterval(spawnParticle, 800);

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LANGUAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
let lang = 'en';
const langBtn = document.getElementById('langBtn');
function applyLang(l) {
    document.querySelectorAll('[data-en][data-zh]').forEach(el => {
        el.innerHTML = el.getAttribute('data-' + l);
    });
    langBtn.innerHTML = l === 'en' ? 'üåê ‰∏≠Êñá' : 'üåê EN';
    document.documentElement.lang = l === 'zh' ? 'zh' : 'en';
    renderChars(activeGame);
}
langBtn.addEventListener('click', () => { lang = lang === 'en' ? 'zh' : 'en'; applyLang(lang); });

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ THEMES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
/*
  ‚úèÔ∏è CUSTOMISE THEMES HERE
  Each game can have its own colour palette.
  These are placeholder themes ‚Äî you can fully redesign them later!
*/
const themes = {
    pjsk: {
        primary:   '#FF7BAC',
        secondary: '#9B72CF',
        accent:    '#5BC8F5',
        glow:      'rgba(255,123,172,0.30)',
        bodyClass: 'theme-pjsk',
        particles: PARTICLE_SETS.pjsk,
    },
    maimai: {
        primary:   '#FF5BB5',
        secondary: '#00C4C4',
        accent:    '#FFD166',
        glow:      'rgba(255,91,181,0.28)',
        bodyClass: 'theme-maimai',
        particles: PARTICLE_SETS.maimai,
    },
    arknights: {
        primary:   '#E67E22',
        secondary: '#2980B9',
        accent:    '#BDC3C7',
        glow:      'rgba(230,126,34,0.35)',
        bodyClass: 'theme-arknights',
        particles: PARTICLE_SETS.arknights,
    },
};

function applyTheme(game) {
    const t = themes[game];
    if (!t) return;
    // Remove all theme classes
    document.body.classList.remove('theme-pjsk', 'theme-maimai', 'theme-arknights');
    document.body.classList.add(t.bodyClass);
    // Update CSS variables
    const r = document.documentElement;
    r.style.setProperty('--t-primary',   t.primary);
    r.style.setProperty('--t-secondary', t.secondary);
    r.style.setProperty('--t-accent',    t.accent);
    r.style.setProperty('--t-glow',      t.glow);
    // Swap particles
    currentParticleSet = t.particles;
}

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GAME DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
/*
  ‚úèÔ∏è HOW TO EDIT CHARACTERS:
    name     : English name
    nameJp   : Japanese / original name (or leave '')
    emoji    : emoji avatar (until you add a real image URL)
    imgUrl   : optional ‚Äî URL to character art/icon (set to '' to use emoji)
    tag      : unit, faction, or role label
    rarity   : number 1‚Äì6 (controls border glow)
    fav      : true = ‚≠ê favourite
    owned    : true = green "Owned" badge
    note     : short personal note (optional, leave '' to hide)
    en/zh    : { tag, note } ‚Äî bilingual labels
*/
const gameData = {

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       PROJECT SEKAI: COLORFUL STAGE
       ‚úèÔ∏è To add a real character image:
          Set imgUrl to a direct image URL, e.g.:
          imgUrl: 'https://example.com/mafuyu.png'
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    pjsk: {
        icon:  'üåà',
        en: { name: 'Project Sekai: Colorful Stage', desc: 'feat. Hatsune Miku ¬∑ Rhythm ¬∑ Mobile',
              pills: ['Gacha', 'Rhythm', 'Mobile'], label: 'My Picks',
              title: 'Favourite Characters', sub: '‚≠ê = Favourite' },
        zh: { name: 'Project SekaiÔºöÂ§öÂΩ©ËàûÂè∞',         desc: 'feat.ÂàùÈü≥Êú™Êù• ¬∑ Èü≥Ê∏∏ ¬∑ ÊâãÊ∏∏',
              pills: ['ÊâãÊ∏∏','Èü≥Ê∏∏','ÊâãÊú∫'], label: 'ÊàëÁöÑÊúÄÁà±',
              title: 'ÊúÄÁà±ËßíËâ≤', sub: '‚≠ê = ÊúÄÁà±' },
        characters: [
            {
                emoji: 'üåô',
                avatarBg: 'linear-gradient(135deg, #2E1A5C, #7B4FA0)',
                name: 'Asahina Mafuyu', nameJp: 'ÊúùÊØîÂ•à„Åæ„Åµ„ÇÜ',
                rarity: 4, fav: true, owned: false,
                imgUrl: '', // ‚úèÔ∏è Add image URL here
                en: { tag: '25-ji, Nightcord de.', note: 'lyricist ¬∑ lost in her own world' },
                zh: { tag: '25Êó∂ÔºåÂ§úÊôöÁª≥Áªì„ÄÇ',      note: '‰ΩúËØç‰∫∫ ¬∑ Ëø∑Â§±Âú®Ëá™Â∑±‰∏ñÁïåÈáå' },
            },
            {
                emoji: 'üé§',
                avatarBg: 'linear-gradient(135deg, #FF7BAC, #FF4D9A)',
                name: 'Azusawa Kohane', nameJp: 'Â∞èË±ÜÊ≤¢„Åì„ÅØ„Å≠',
                rarity: 4, fav: true, owned: false,
                imgUrl: '', // ‚úèÔ∏è Add image URL here
                en: { tag: 'Vivid BAD SQUAD', note: 'vocals ¬∑ timid girl who found her voice' },
                zh: { tag: 'Vivid BAD SQUAD', note: 'Ê≠åÊâã ¬∑ ÊâæÂà∞Â£∞Èü≥ÁöÑËÖºËÖÜÂ∞ëÂ•≥' },
            },
            {
                emoji: 'üíô',
                avatarBg: 'linear-gradient(135deg, #39C5BB, #0099CC)',
                name: 'Hatsune Miku', nameJp: 'ÂàùÈü≥„Éü„ÇØ',
                rarity: 4, fav: true, owned: false,
                imgUrl: '', // ‚úèÔ∏è Add image URL here
                en: { tag: 'Virtual Singer', note: 'she\'s different for every unit ‚ô°' },
                zh: { tag: 'ËôöÊãüÊ≠åÊâã',        note: 'Âú®ÊØè‰∏™Èòü‰ºçÈáåÈÉΩÊúâ‰∏çÂêåÁöÑÂ•π ‚ô°' },
            },
        ],
    },

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       MAIMAI DX ‚Äî SALT („ÇΩ„É´„Éà)
       Salt is a partner character from CAFE MiLK.
       Festival version: white turtleneck dress,
       blue coat, cat ears, twintails, lantern.

       ‚úèÔ∏è To add her official art:
          Visit https://maimai.fandom.com/wiki/Salt
          and copy the image URL into imgUrl below.
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    maimai: {
        icon:  'üéµ',
        en: { name: 'maimai DX', desc: 'Rhythm Arcade ¬∑ SEGA ¬∑ Partner System',
              pills: ['Arcade', 'Rhythm', 'SEGA'], label: 'Partner Character',
              title: 'Salt („ÇΩ„É´„Éà)', sub: 'My favourite partner ‚Äî especially her Festival outfit' },
        zh: { name: 'ËàûËêå DX', desc: 'Èü≥Ê∏∏Ë°óÊú∫ ¬∑ SEGA ¬∑ Êê≠Ê°£Á≥ªÁªü',
              pills: ['Ë°óÊú∫','Èü≥Ê∏∏','SEGA'], label: 'Êê≠Ê°£ËßíËâ≤',
              title: 'SaltÔºà„ÇΩ„É´„ÉàÔºâ', sub: 'ÊúÄÂñúÊ¨¢ÁöÑÊê≠Ê°£ ‚Äî Â∞§ÂÖ∂ÊòØÁ•≠ÂÖ∏ÁâàÊú¨' },
        characters: [
            {
                emoji: 'üê±',
                avatarBg: 'linear-gradient(135deg, #FFD6E8, #B8E0FF)',
                name: 'Salt', nameJp: '„ÇΩ„É´„Éà',
                rarity: 4, fav: true, owned: true,
                imgUrl: '', // ‚úèÔ∏è Add standard outfit image URL here
                en: { tag: 'CAFE MiLK ¬∑ Partner', note: 'chibi kitty ¬∑ travelled the world for Fantasmic Blue Wheat Flour' },
                zh: { tag: 'CAFE MiLK ¬∑ Êê≠Ê°£',    note: 'Áå´Áå´ ¬∑ ‰∏∫‰∫ÜÂØªÊâæÂπªÊÉ≥ËìùËâ≤Â∞èÈ∫¶Á≤âËÄåÊóÖË°å' },
            },
            {
                emoji: 'üèÆ',
                avatarBg: 'linear-gradient(135deg, #D4EAF7, #FAFAFF, #C8DCEF)',
                name: 'Salt ‚Äî Festival', nameJp: '„ÇΩ„É´„ÉàÔºà„Åµ„Åá„Åô„Å¶„ÅÉ„Å∞„ÇãÔºâ',
                rarity: 4, fav: true, owned: true,
                imgUrl: '', // ‚úèÔ∏è Add Festival outfit image URL here
                en: { tag: 'FESTiVAL Outfit', note: 'white dress ¬∑ blue coat ¬∑ holding a lantern üèÆ' },
                zh: { tag: 'Á•≠ÂÖ∏ÁâàÊú¨',           note: 'ÁôΩËâ≤ËøûË°£Ë£ô ¬∑ ËìùËâ≤Â§ñÂ•ó ¬∑ ÊâãÊèêÁÅØÁ¨º üèÆ' },
            },
        ],
    },

    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       ARKNIGHTS (ÊòéÊó•ÊñπËàü)
       ‚úèÔ∏è To add operator portraits from the official
          arknights wiki, visit arknights.wiki.gg
          and copy portrait image URLs into imgUrl.
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    arknights: {
        icon:  '‚öîÔ∏è',
        en: { name: 'Arknights', desc: 'ÊòéÊó•ÊñπËàü ¬∑ Tower Defence ¬∑ Mobile',
              pills: ['Gacha', 'Strategy', 'Mobile'], label: 'My Operators',
              title: 'Operator Roster', sub: '‚≠ê = Favourite  ¬∑  Stars = rarity' },
        zh: { name: 'ÊòéÊó•ÊñπËàü', desc: 'Arknights ¬∑ Â°îÈò≤ ¬∑ ÊâãÊ∏∏',
              pills: ['ÊâãÊ∏∏','Â°îÈò≤','Á≠ñÁï•'], label: 'ÊàëÁöÑÂπ≤Âëò',
              title: 'Âπ≤ÂëòÈòµÂÆπ', sub: '‚≠ê = ÊúÄÁà±  ¬∑  ÊòüÁ∫ß = Á®ÄÊúâÂ∫¶' },
        characters: [
            {
                emoji: 'üê∞',
                avatarBg: 'linear-gradient(135deg, #3A5EA8, #6A9BD4)',
                name: 'Amiya', nameJp: 'ÈòøÁ±≥Â®Ö',
                rarity: 5, fav: true, owned: true,
                imgUrl: '', // ‚úèÔ∏è char_002_amiya ‚Äî add portrait URL
                en: { tag: 'Guard ¬∑ Rhodes Island', note: 'the OG protagonist ¬∑ never letting her go ‚ô°' },
                zh: { tag: 'ËøëÂç´ ¬∑ ÁΩóÂæ∑Â≤õ',         note: '‰∏ªËßí ¬∑ Ê∞∏ËøúÁöÑÂÆàÊä§ÂØπË±° ‚ô°' },
            },
            {
                emoji: 'üî•',
                avatarBg: 'linear-gradient(135deg, #8B1A1A, #E03030, #FF7020)',
                name: 'Reed the Flameshadow', nameJp: 'ÁÑ∞ÂΩ±ËãáËçâ',
                rarity: 6, fav: true, owned: false,
                imgUrl: '', // ‚úèÔ∏è char_1020_reed2 ‚Äî add portrait URL
                en: { tag: 'Guard ¬∑ 6‚òÖ Alter', note: 'flames and grief ‚Äî stunning design' },
                zh: { tag: 'ËøëÂç´ ¬∑ 6‚òÖ ÂºÇÊ†º',   note: 'ÁÅ´ÁÑ∞‰∏éÊÇ≤ÊÄÜ ‚Äî ËÆæËÆ°ÁªùÁæé' },
            },
            {
                emoji: 'üíÄ',
                avatarBg: 'linear-gradient(135deg, #1A1A2E, #4A2060, #7A3A90)',
                name: 'Necrass', nameJp: 'Ê∂ÖÂÖãÊãâÊñØ',
                rarity: 6, fav: true, owned: false,
                imgUrl: '', // ‚úèÔ∏è add portrait URL from arknights.wiki.gg
                en: { tag: 'Caster ¬∑ 6‚òÖ  Shaper', note: 'Eblana reanimated ¬∑ Reed\'s twin ¬∑ hauntingly beautiful' },
                zh: { tag: 'ÊúØÂ∏à ¬∑ 6‚òÖ ÊûÑÂΩ¢',       note: 'EblanaÂ§çÊ¥ª‰Ωì ¬∑ ËãáËçâÁöÑÂèåËÉûËÉé ¬∑ ÁæéÂæó‰ª§‰∫∫ÂøÉÁ¢é' },
            },
        ],
    },

};

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
let activeGame = 'pjsk';

function renderChars(game) {
    const data = gameData[game];
    if (!data) return;

    // Info bar
    document.getElementById('infoIcon').textContent  = data.icon;
    document.getElementById('infoName').textContent  = data[lang].name;
    document.getElementById('infoDesc').textContent  = data[lang].desc;
    document.getElementById('infoPills').innerHTML   = data[lang].pills.map(p => `<span class="pill">${p}</span>`).join('');

    // Section header
    document.getElementById('gridLabel').textContent = data[lang].label;
    document.getElementById('gridTitle').textContent = data[lang].title;
    document.getElementById('gridSub').textContent   = data[lang].sub;

    // Character cards
    document.getElementById('charGrid').innerHTML = data.characters.map(c => `
    <div class="char-card rarity-${c.rarity}" data-avatarbg="${c.avatarBg || ''}">
        ${c.fav ? '<div class="char-fav">‚≠ê</div>' : ''}
        <div class="char-art" style="${c.avatarBg ? 'background:'+c.avatarBg : ''}">
            ${c.imgUrl ? `<img src="${c.imgUrl}" alt="${c.name}">` : c.emoji}
        </div>
        <div class="rarity-stars">${'‚òÖ'.repeat(c.rarity)}${'‚òÜ'.repeat(Math.max(0,6-c.rarity))}</div>
        <div class="char-name">${c.name}</div>
        ${c.nameJp ? `<div class="char-name-jp">${c.nameJp}</div>` : ''}
        <div class="char-tag">${c[lang].tag}</div>
        ${c[lang].note ? `<div class="char-note">${c[lang].note}</div>` : ''}
    </div>`).join('');
    attachCardHover();
}

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GAME TAB INTERACTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const tabs = document.querySelectorAll('.game-tab');

tabs.forEach(tab => {
    const game = tab.dataset.game;

    // Click: lock in game + apply theme
    tab.addEventListener('click', () => {
        activeGame = game;
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        applyTheme(game);
        renderChars(game);
    });
});

// Character card hover: shift accent to character's avatar colours
function attachCardHover() {
    document.querySelectorAll('.char-card').forEach(card => {
        const bg = card.dataset.avatarbg;
        if (!bg) return;
        // Extract first and last colour stops from the gradient
        const stops = bg.match(/#[0-9A-Fa-f]{3,6}/g);
        if (!stops || stops.length < 2) return;
        card.addEventListener('mouseenter', () => {
            document.documentElement.style.setProperty('--t-primary', stops[0]);
            document.documentElement.style.setProperty('--t-accent',  stops[stops.length - 1]);
            document.documentElement.style.setProperty('--t-glow',    stops[0] + '55');
        });
        card.addEventListener('mouseleave', () => {
            applyTheme(activeGame); // restore game theme on leave
        });
    });
}

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
applyTheme('pjsk');
renderChars('pjsk');
applyLang('en');

</script>
</body>
</html>
