<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeffi ‚ú¶</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&display=swap" rel="stylesheet">
    <!-- No external icon library needed ‚Äî using Unicode & emoji instead -->
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --lavender:    #C4A8E8;
            --pink:        #F5B8C8;
            --mint:        #A8DDD0;
            --yellow:      #FFE4A0;
            --text-dark:   #3D2E5C;
            --text-mid:    #7A6898;
            --text-light:  #B8A8D0;
            --card-bg:     rgba(255, 255, 255, 0.60);
            --card-border: rgba(196, 168, 232, 0.35);
            --shadow:      0 8px 40px rgba(196, 168, 232, 0.22);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(150deg, #FDF5FF 0%, #FFF0F8 50%, #EFF9FF 100%);
            color: var(--text-dark);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* ‚îÄ‚îÄ Scrollbar ‚îÄ‚îÄ */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #FDF5FF; }
        ::-webkit-scrollbar-thumb { background: var(--lavender); border-radius: 10px; }

        /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
        nav {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            padding: 15px 48px;
            display: flex; align-items: center; justify-content: space-between;
            background: rgba(255,255,255,0.72);
            backdrop-filter: blur(18px); -webkit-backdrop-filter: blur(18px);
            border-bottom: 1px solid rgba(196,168,232,0.22);
            gap: 12px;
        }
        .nav-logo {
            font-size: 1.35rem; font-weight: 900; letter-spacing: -0.5px;
            background: linear-gradient(135deg, #9B72CF, #E8709A);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            flex-shrink: 0;
        }
        .nav-links { display: flex; gap: 4px; list-style: none; flex: 1; justify-content: center; }
        .nav-links a {
            text-decoration: none; color: var(--text-mid);
            font-weight: 700; font-size: 0.88rem;
            padding: 8px 18px; border-radius: 20px; transition: all 0.25s;
            white-space: nowrap;
        }
        .nav-links a:hover  { background: rgba(196,168,232,0.18); color: var(--text-dark); }
        .nav-links a.active { background: linear-gradient(135deg,rgba(196,168,232,0.28),rgba(245,184,200,0.28)); color: var(--text-dark); }

        /* ‚îÄ‚îÄ LANGUAGE TOGGLE ‚îÄ‚îÄ */
        .lang-btn {
            flex-shrink: 0;
            background: rgba(255,255,255,0.7); backdrop-filter: blur(8px);
            border: 1.5px solid var(--card-border); color: var(--text-mid);
            font-family: 'Nunito', sans-serif; font-size: 0.82rem; font-weight: 800;
            padding: 7px 14px; border-radius: 20px; cursor: pointer;
            transition: all 0.25s; display: flex; align-items: center; gap: 6px;
            white-space: nowrap;
        }
        .lang-btn:hover {
            background: linear-gradient(135deg, var(--lavender), var(--pink));
            color: white; border-color: transparent;
            box-shadow: 0 4px 16px rgba(196,168,232,0.4);
        }

        /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
        #home {
            min-height: 100vh;
            display: flex; align-items: center; justify-content: center;
            position: relative; overflow: hidden;
            padding: 110px 40px 70px;
        }
        .particles-container { position: absolute; inset: 0; pointer-events: none; z-index: 0; }
        .particle {
            position: absolute; font-size: 1.2rem;
            animation: floatUp linear infinite; opacity: 0;
        }
        @keyframes floatUp {
            0%   { transform: translateY(100vh) rotate(0deg);   opacity: 0; }
            8%   { opacity: 0.85; }
            92%  { opacity: 0.85; }
            100% { transform: translateY(-120px) rotate(540deg); opacity: 0; }
        }
        .hero-content { text-align: center; z-index: 1; position: relative; }
        .hero-badge {
            display: inline-block;
            background: rgba(196,168,232,0.18); border: 1px solid rgba(196,168,232,0.38);
            color: var(--text-mid); padding: 6px 20px; border-radius: 20px;
            font-size: 0.85rem; font-weight: 700; margin-bottom: 22px;
            backdrop-filter: blur(8px);
        }
        .hero-name {
            font-size: clamp(3rem, 9vw, 6rem); font-weight: 900; line-height: 1.05;
            margin-bottom: 14px;
            background: linear-gradient(135deg, #9B72CF 0%, #E8709A 55%, #72C5CF 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        .hero-tagline {
            font-size: clamp(1rem, 2.5vw, 1.25rem); color: var(--text-mid);
            font-weight: 600; margin-bottom: 22px; max-width: 480px; margin-left: auto; margin-right: auto;
        }
        .hero-tags { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-bottom: 40px; }
        .hero-tag {
            background: rgba(255,255,255,0.65); backdrop-filter: blur(8px);
            border: 1px solid var(--card-border);
            padding: 6px 16px; border-radius: 20px;
            font-size: 0.82rem; font-weight: 700; color: var(--text-mid);
        }
        .hero-buttons { display: flex; gap: 14px; justify-content: center; flex-wrap: wrap; }
        .btn {
            padding: 12px 28px; border-radius: 25px;
            font-family: 'Nunito', sans-serif; font-size: 0.95rem; font-weight: 800;
            cursor: pointer; transition: all 0.28s; border: none; text-decoration: none;
            display: inline-flex; align-items: center; gap: 8px;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--lavender), var(--pink));
            color: white; box-shadow: 0 4px 22px rgba(196,168,232,0.5);
        }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 8px 32px rgba(196,168,232,0.6); }
        .btn-secondary {
            background: rgba(255,255,255,0.7); backdrop-filter: blur(8px);
            border: 1.5px solid var(--card-border); color: var(--text-dark);
        }
        .btn-secondary:hover { transform: translateY(-3px); background: white; }

        /* ‚îÄ‚îÄ SHARED SECTION ‚îÄ‚îÄ */
        .site-section { padding: 80px 48px; max-width: 1120px; margin: 0 auto; }
        .section-header { text-align: center; margin-bottom: 52px; }
        .section-label {
            display: inline-block; font-size: 0.75rem; font-weight: 800;
            letter-spacing: 2.5px; text-transform: uppercase;
            color: var(--lavender); margin-bottom: 8px;
        }
        .section-title { font-size: clamp(1.8rem,4vw,2.6rem); font-weight: 900; color: var(--text-dark); }
        .section-sub { color: var(--text-mid); font-size: 0.97rem; margin-top: 8px; }

        /* ‚îÄ‚îÄ GLASS CARD ‚îÄ‚îÄ */
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
            border: 1px solid var(--card-border);
            border-radius: 20px; box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover { transform: translateY(-6px); box-shadow: 0 18px 52px rgba(196,168,232,0.32); }

        /* ‚îÄ‚îÄ MUSIC PLAYER ‚îÄ‚îÄ */
        .music-wrap { max-width: 680px; margin: 0 auto; }
        .now-playing {
            padding: 32px 30px 28px;
            background: linear-gradient(135deg, rgba(196,168,232,0.22), rgba(245,184,200,0.22));
            border-radius: 28px; border: 1px solid rgba(196,168,232,0.3);
            backdrop-filter: blur(20px); margin-bottom: 18px;
        }
        .album-art {
            width: 96px; height: 96px; border-radius: 50%;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, var(--lavender), var(--pink), var(--mint));
            display: flex; align-items: center; justify-content: center;
            font-size: 2.6rem;
            box-shadow: 0 8px 32px rgba(196,168,232,0.45);
            position: relative; transition: transform 0.5s;
        }
        .album-art.spin { animation: spin 8s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .album-art::after {
            content: ''; position: absolute; width: 22px; height: 22px;
            background: rgba(255,255,255,0.92); border-radius: 50%;
            top: 50%; left: 50%; transform: translate(-50%,-50%);
        }
        .song-info { text-align: center; margin-bottom: 20px; }
        .song-title  { font-size: 1.15rem; font-weight: 800; margin-bottom: 4px; }
        .song-artist { font-size: 0.88rem; color: var(--text-mid); }
        .progress-wrap {
            height: 5px; background: rgba(196,168,232,0.22);
            border-radius: 10px; cursor: pointer; margin-bottom: 6px; overflow: visible; position: relative;
        }
        .progress-fill {
            height: 100%; width: 0%;
            background: linear-gradient(90deg, var(--lavender), var(--pink));
            border-radius: 10px; transition: width 0.1s linear;
        }
        .progress-times { display: flex; justify-content: space-between; font-size: 0.74rem; color: var(--text-light); font-weight: 700; margin-bottom: 18px; }
        .controls { display: flex; align-items: center; justify-content: center; gap: 22px; }
        .ctrl {
            background: none; border: none; color: var(--text-mid); font-size: 1.05rem;
            cursor: pointer; width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; transition: all 0.2s;
        }
        .ctrl:hover { color: var(--text-dark); background: rgba(196,168,232,0.18); }
        .ctrl.play-btn {
            background: linear-gradient(135deg, var(--lavender), var(--pink));
            color: white; font-size: 1.15rem; width: 52px; height: 52px;
            box-shadow: 0 4px 20px rgba(196,168,232,0.55);
        }
        .ctrl.play-btn:hover { transform: scale(1.1); box-shadow: 0 7px 28px rgba(196,168,232,0.65); }
        .playlist-card { padding: 14px 10px; }
        .pl-item {
            display: flex; align-items: center; gap: 12px;
            padding: 11px 12px; border-radius: 14px; cursor: pointer; transition: all 0.2s;
        }
        .pl-item:hover  { background: rgba(196,168,232,0.1); }
        .pl-item.active { background: linear-gradient(135deg,rgba(196,168,232,0.18),rgba(245,184,200,0.18)); }
        .pl-num { font-size: 0.78rem; color: var(--text-light); width: 18px; text-align: center; font-weight: 800; }
        .pl-item.active .pl-num { color: var(--lavender); }
        .pl-thumb {
            width: 42px; height: 42px; border-radius: 11px; flex-shrink: 0;
            background: linear-gradient(135deg, var(--lavender), var(--pink));
            display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
        }
        .pl-info { flex: 1; }
        .pl-song   { font-size: 0.88rem; font-weight: 800; }
        .pl-artist { font-size: 0.76rem; color: var(--text-mid); }
        .music-hint {
            text-align: center; margin-top: 14px;
            font-size: 0.8rem; color: var(--text-light); font-style: italic;
        }
        /* ‚îÄ‚îÄ EMBED PLAYER ‚îÄ‚îÄ */
        .spotify-wrap {
            margin: 4px 0 16px;
            border-radius: 14px; overflow: hidden;
        }
        .spotify-wrap iframe { display: block; border-radius: 14px; }

        .no-spotify {
            text-align: center; padding: 18px 0 8px;
            font-size: 0.82rem; color: var(--text-light); font-style: italic;
        }
        .player-nav {
            display: flex; align-items: center; justify-content: space-between;
            margin-top: 8px; padding: 0 4px;
        }
        .player-nav .ctrl { width: 36px; height: 36px; font-size: 0.95rem; }

        /* ‚îÄ‚îÄ GALLERY ‚îÄ‚îÄ */
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px,1fr)); gap: 16px; }
        .gal-item { border-radius: 18px; overflow: hidden; aspect-ratio: 1; cursor: pointer; position: relative; }
        .gal-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.4s; display: block; }
        .gal-item:hover img { transform: scale(1.07); }
        .gal-overlay {
            position: absolute; inset: 0;
            background: linear-gradient(to top, rgba(61,44,92,0.68) 0%, transparent 55%);
            opacity: 0; transition: opacity 0.28s;
            display: flex; align-items: flex-end; padding: 14px;
        }
        .gal-item:hover .gal-overlay { opacity: 1; }
        .gal-caption { color: white; font-size: 0.82rem; font-weight: 800; }

        /* Lightbox */
        .lightbox {
            position: fixed; inset: 0; z-index: 3000;
            background: rgba(30,20,50,0.93); backdrop-filter: blur(12px);
            display: none; align-items: center; justify-content: center; padding: 20px;
        }
        .lightbox.open { display: flex; }
        .lightbox img { max-width: 90vw; max-height: 85vh; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); }
        .lb-close {
            position: absolute; top: 20px; right: 24px;
            background: rgba(255,255,255,0.14); border: none; color: white;
            font-size: 1.2rem; width: 44px; height: 44px; border-radius: 50%;
            cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s;
        }
        .lb-close:hover { background: rgba(255,255,255,0.26); }

        /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
        footer {
            text-align: center; padding: 40px 48px;
            color: var(--text-light); font-size: 0.86rem; font-weight: 600;
            border-top: 1px solid rgba(196,168,232,0.18);
        }
        .footer-social { display: flex; justify-content: center; gap: 14px; margin-bottom: 14px; }
        .footer-social a {
            width: 40px; height: 40px; border-radius: 50%;
            background: rgba(196,168,232,0.12); border: 1px solid var(--card-border);
            display: flex; align-items: center; justify-content: center;
            color: var(--text-mid); text-decoration: none; font-size: 0.95rem; transition: all 0.22s;
        }
        .footer-social a:hover {
            background: linear-gradient(135deg, var(--lavender), var(--pink));
            color: white; border-color: transparent; transform: translateY(-2px);
        }

        /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
        @media (max-width: 768px) {
            nav { padding: 14px 16px; gap: 8px; }
            .nav-links { display: none; }
            .site-section { padding: 60px 20px; }
            #home { padding: 100px 20px 60px; }
        }
    </style>
</head>
<body>

<!-- NAV -->
<nav id="navbar">
    <div class="nav-logo">Jeffi ‚ú¶</div>
    <ul class="nav-links">
        <li><a href="#home"          class="active" data-en="üè† Home"       data-zh="üè† È¶ñÈ°µ">üè† Home</a></li>
        <li><a href="projects.html"               data-en="üöÄ Projects"    data-zh="üöÄ È°πÁõÆ">üöÄ Projects</a></li>
        <li><a href="games.html"                  data-en="üéÆ Games"       data-zh="üéÆ Ê∏∏Êàè">üéÆ Games</a></li>
        <li><a href="#music"                      data-en="üéµ Music"       data-zh="üéµ Èü≥‰πê">üéµ Music</a></li>
        <li><a href="#gallery"                    data-en="üñºÔ∏è Gallery"     data-zh="üñºÔ∏è Áõ∏ÂÜå">üñºÔ∏è Gallery</a></li>
    </ul>
    <button class="lang-btn" id="langBtn">üåê ‰∏≠Êñá</button>
</nav>

<!-- HERO -->
<section id="home">
    <div class="particles-container" id="particles"></div>
    <div class="hero-content">
        <div class="hero-badge"
             data-en="‚ú® Welcome to my little corner of the internet"
             data-zh="‚ú® Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑÂ∞èÂ§©Âú∞">
            ‚ú® Welcome to my little corner of the internet
        </div>
        <h1 class="hero-name">Jeffi</h1>
        <p class="hero-tagline"
           data-en="Developer ¬∑ Gamer ¬∑ Music Lover ¬∑ Anime Fan"
           data-zh="ÂºÄÂèëËÄÖ ¬∑ Áé©ÂÆ∂ ¬∑ Èü≥‰πêÁà±Â•ΩËÄÖ ¬∑ Âä®Êº´Ëø∑">
            Developer ¬∑ Gamer ¬∑ Music Lover ¬∑ Anime Fan
        </p>
        <div class="hero-tags">
            <span class="hero-tag" data-en="üéÆ Game Dev"  data-zh="üéÆ Ê∏∏ÊàèÂºÄÂèë">üéÆ Game Dev</span>
            <span class="hero-tag" data-en="üéµ maimai"    data-zh="üéµ maimai">üéµ maimai</span>
            <span class="hero-tag" data-en="üå∏ Anime"     data-zh="üå∏ Âä®Êº´">üå∏ Anime</span>
            <span class="hero-tag" data-en="üíª Web Dev"   data-zh="üíª ÁΩëÈ°µÂºÄÂèë">üíª Web Dev</span>
        </div>
        <div class="hero-buttons">
            <a href="projects.html" class="btn btn-primary"
               data-en="üöÄ Projects"
               data-zh="üöÄ È°πÁõÆ">
                üöÄ Projects
            </a>
            <a href="games.html" class="btn btn-secondary"
               data-en="üéÆ Games"
               data-zh="üéÆ Ê∏∏Êàè">
                üéÆ Games
            </a>
            <a href="#music" class="btn btn-secondary"
               data-en="üéµ Music"
               data-zh="üéµ Èü≥‰πê">
                üéµ Music
            </a>
        </div>
    </div>
</section>

<!-- MUSIC -->
<div class="site-section" id="music">
    <div class="section-header">
        <div class="section-label" data-en="Things I Listen To" data-zh="ÊàëÂú®Âê¨ÁöÑ">Things I Listen To</div>
        <h2 class="section-title" data-en="Music"               data-zh="Èü≥‰πê">Music</h2>
        <p class="section-sub"    data-en="Songs I've been enjoying lately" data-zh="ÊúÄËøëÂñúÊ¨¢ÁöÑÊ≠åÊõ≤">Songs I've been enjoying lately</p>
    </div>
    <div class="music-wrap">
        <div class="now-playing card">
            <div class="album-art" id="albumArt">üéµ</div>
            <div class="song-info">
                <div class="song-title"  id="songTitle"
                     data-en="Select a song" data-zh="ÈÄâÊã©‰∏ÄÈ¶ñÊ≠å">Select a song</div>
                <div class="song-artist" id="songArtist">‚Äî</div>
            </div>
            <!-- Spotify embed player -->
            <div class="spotify-wrap" id="spotifyWrap" style="display:none">
                <iframe id="spotifyFrame"
                    src=""
                    width="100%" height="80"
                    frameborder="0"
                    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                    loading="lazy">
                </iframe>
            </div>
            <!-- Fallback when no Spotify ID -->
            <div class="no-spotify" id="noSpotify"
                 data-en="üí° Add a Spotify track ID in the source code to enable playback"
                 data-zh="üí° Âú®Ê∫ê‰ª£Á†Å‰∏≠Â°´ÂÖ• Spotify Êõ≤ÁõÆ ID ‰ª•ÂêØÁî®Êí≠Êîæ">
                üí° Add a Spotify track ID in the source code to enable playback
            </div>
            <!-- Prev / Next navigation -->
            <div class="player-nav">
                <button class="ctrl" id="prevBtn" title="Previous">‚èÆ</button>
                <span style="font-size:0.75rem;color:var(--text-light);font-weight:700" id="trackCounter">1 / 4</span>
                <button class="ctrl" id="nextBtn" title="Next">‚è≠</button>
            </div>
        </div>
        <div class="card playlist-card" id="playlistEl"></div>
    </div>
</div>

<!-- GALLERY -->
<div class="site-section" id="gallery">
    <div class="section-header">
        <div class="section-label" data-en="Visual Diary"                           data-zh="ËßÜËßâÊó•ËÆ∞">Visual Diary</div>
        <h2 class="section-title" data-en="Gallery"                                 data-zh="Áõ∏ÂÜå">Gallery</h2>
        <p class="section-sub"    data-en="Moments, art, and things that caught my eye" data-zh="ËÆ∞ÂΩïÁæéÂ•ΩÁû¨Èó¥‰∏éÂñúÁà±ÁöÑ‰∫ãÁâ©">Moments, art, and things that caught my eye</p>
    </div>
    <div class="gallery-grid" id="galleryGrid"></div>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
    <button class="lb-close" id="lbClose">‚úï</button>
    <img id="lbImg" src="" alt="">
</div>

<!-- FOOTER -->
<footer>
    <div class="footer-social">
        <a href="#" title="GitHub">GH</a>
        <a href="#" title="Twitter/X">ùïè</a>
        <a href="#" title="Discord">DC</a>
        <a href="#" title="YouTube">‚ñ∂</a>
    </div>
    <p id="footerText"
       data-en="Made with üíú by Jeffi &nbsp;¬∑&nbsp; 2026"
       data-zh="Áî± Jeffi Áî® üíú Âà∂‰Ωú &nbsp;¬∑&nbsp; 2026">
        Made with üíú by Jeffi &nbsp;¬∑&nbsp; 2026
    </p>
</footer>

<script>
/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ PARTICLES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const container = document.getElementById('particles');
const emojis = ['üå∏','‚ú®','‚≠ê','üå∑','üí´','üéµ','‚ô™','üéÆ','üé∂','üåü'];
function spawnParticle() {
    const el = document.createElement('div');
    el.className = 'particle';
    el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    el.style.left = Math.random() * 100 + 'vw';
    el.style.animationDuration = (Math.random() * 12 + 9) + 's';
    el.style.animationDelay    = (Math.random() * 4)  + 's';
    container.appendChild(el);
    setTimeout(() => el.remove(), 26000);
}
for (let i = 0; i < 14; i++) setTimeout(spawnParticle, i * 450);
setInterval(spawnParticle, 900);

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ NAV ACTIVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const allLinks    = document.querySelectorAll('.nav-links a[href^="#"]');
const allSections = document.querySelectorAll('#home, #music, #gallery');
window.addEventListener('scroll', () => {
    let cur = '';
    allSections.forEach(s => { if (window.scrollY >= s.offsetTop - 220) cur = s.id; });
    allLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#' + cur));
});

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LANGUAGE TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
let lang = 'en';
const langBtn = document.getElementById('langBtn');

function applyLang(l) {
    // Update all elements with data-en / data-zh
    document.querySelectorAll('[data-en][data-zh]').forEach(el => {
        el.innerHTML = el.getAttribute('data-' + l);
    });
    // Re-render dynamic sections (gallery uses lang-aware data)
    renderGallery();
    // Update song title placeholder if no track loaded
    const titleEl = document.getElementById('songTitle');
    if (titleEl.dataset.placeholder === 'true') {
        titleEl.textContent = l === 'zh' ? 'ÈÄâÊã©‰∏ÄÈ¶ñÊ≠å' : 'Select a song';
    }
    // Toggle button label
    langBtn.innerHTML = l === 'en' ? 'üåê ‰∏≠Êñá' : 'üåê EN';
    document.documentElement.lang = l === 'zh' ? 'zh' : 'en';
}

langBtn.addEventListener('click', () => {
    lang = lang === 'en' ? 'zh' : 'en';
    applyLang(lang);
});


/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ MUSIC PLAYER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
/*
  HOW TO ADD SONGS ‚Äî supported sources:

  ‚ë† SPOTIFY  ‚Üí source: 'spotify',  id: 'TRACK_ID'
     Get ID from: open.spotify.com/track/TRACK_ID

  ‚ë° YOUTUBE  ‚Üí source: 'youtube',  id: 'VIDEO_ID'
     Get ID from: youtube.com/watch?v=VIDEO_ID

  ‚ë¢ BILIBILI ‚Üí source: 'bilibili', id: 'BV_XXXXXXX'
     Get ID from: bilibili.com/video/BV_XXXXXXX
     (Best experienced inside China; may buffer elsewhere)

  ‚ë£ NETEASE  ‚Üí source: 'netease',  id: 'SONG_ID'
     Get ID from: music.163.com/song?id=SONG_ID
     (Best experienced inside China; audio-only compact player)
*/
const playlist = [
    {
        title:  'JANE DOE',
        artist: 'Kenshi Yonezu, Hikaru Utada',
        emoji:  'üé∏',
        source: 'spotify',
        id:     '4oE7MyJhqSD3BaHRpNs8Nl'   // Chainsaw Man: Reze Arc theme
    },
    {
        title:  'YouTube Example',
        artist: 'Artist Name',
        emoji:  'üéµ',
        source: 'youtube',
        id:     ''   // paste YouTube video ID here, e.g. 'dQw4w9WgXcQ'
    },
    {
        title:  'ÈìÅËä±È£û',
        artist: 'Mili',
        emoji:  'üå∫',
        source: 'netease',
        id:     '3342981041'   // Arknights Ch'en the Dawnstreak EP
    },
    {
        title:  'NetEase Example',
        artist: 'Artist Name',
        emoji:  'üé∂',
        source: 'netease',
        id:     ''   // paste NetEase song ID here, e.g. '447925558'
    },
];

/* Platform config: embed URL builder + iframe height + icon */
const platforms = {
    spotify:  {
        icon:   '<span style="font-size:0.75rem;font-weight:800;color:#1DB954;background:rgba(29,185,84,0.12);padding:2px 7px;border-radius:8px">SPOTIFY</span>',
        height: 80,
        url:    id => `https://open.spotify.com/embed/track/${id}?utm_source=generator`
    },
    youtube:  {
        icon:   '<span style="font-size:0.75rem;font-weight:800;color:#FF0000;background:rgba(255,0,0,0.1);padding:2px 7px;border-radius:8px">YOUTUBE</span>',
        height: 200,
        url:    id => `https://www.youtube.com/embed/${id}?rel=0&modestbranding=1`
    },
    bilibili: {
        icon:   '<span style="font-size:0.75rem;font-weight:800;color:#00AEEC;background:rgba(0,174,236,0.1);padding:2px 7px;border-radius:8px">BILIBILI</span>',
        height: 200,
        url:    id => `https://player.bilibili.com/player.html?bvid=${id}&page=1&high_quality=1&danmaku=0`
    },
    netease:  {
        icon:   '<span style="font-size:0.75rem;font-weight:800;color:#C20C0C;background:rgba(194,12,12,0.1);padding:2px 7px;border-radius:8px">NETEASE</span>',
        height: 86,
        url:    id => `https://music.163.com/outchain/player?type=2&id=${id}&auto=1&height=66`
    },
};

let cur = 0;
const albumArt     = document.getElementById('albumArt');
const songTitle    = document.getElementById('songTitle');
const songArtist   = document.getElementById('songArtist');
const spotifyWrap  = document.getElementById('spotifyWrap');
const spotifyFrame = document.getElementById('spotifyFrame');
const noSpotify    = document.getElementById('noSpotify');
const trackCounter = document.getElementById('trackCounter');
const playlistEl   = document.getElementById('playlistEl');

function loadTrack(i) {
    const t  = playlist[i];
    const pl = platforms[t.source] || platforms.spotify;
    songTitle.textContent    = t.title;
    songArtist.textContent   = t.artist;
    albumArt.textContent     = t.emoji;
    trackCounter.textContent = `${i + 1} / ${playlist.length}`;

    if (t.id) {
        spotifyFrame.src          = pl.url(t.id);
        spotifyFrame.height       = pl.height;
        spotifyWrap.style.display = 'block';
        noSpotify.style.display   = 'none';
    } else {
        spotifyFrame.src          = '';
        spotifyWrap.style.display = 'none';
        noSpotify.style.display   = 'block';
        noSpotify.textContent = lang === 'zh'
            ? 'üí° Âú®Ê∫ê‰ª£Á†Å‰∏≠Â°´ÂÖ•Êõ≤ÁõÆ ID ‰ª•ÂêØÁî®Êí≠Êîæ'
            : 'üí° Add a track ID in the source code to enable playback';
    }

    document.querySelectorAll('.pl-item').forEach((el, idx) => {
        el.classList.toggle('active', idx === i);
        el.querySelector('.pl-num').textContent = idx === i ? '‚ñ∂' : (idx + 1);
    });
}

function renderPlaylist() {
    playlistEl.innerHTML = playlist.map((t, i) => {
        const pl = platforms[t.source] || platforms.spotify;
        return `
        <div class="pl-item ${i === cur ? 'active' : ''}" data-i="${i}">
            <div class="pl-num">${i === cur ? '‚ñ∂' : i + 1}</div>
            <div class="pl-thumb">${t.emoji}</div>
            <div class="pl-info">
                <div class="pl-song">${t.title}</div>
                <div class="pl-artist">${t.artist}</div>
            </div>
            <span style="font-size:0.95rem;flex-shrink:0">${pl.icon}</span>
        </div>`;
    }).join('');
    document.querySelectorAll('.pl-item').forEach(el => {
        el.addEventListener('click', () => { cur = +el.dataset.i; loadTrack(cur); });
    });
}

document.getElementById('prevBtn').addEventListener('click', () => {
    cur = (cur - 1 + playlist.length) % playlist.length; loadTrack(cur);
});
document.getElementById('nextBtn').addEventListener('click', () => {
    cur = (cur + 1) % playlist.length; loadTrack(cur);
});

renderPlaylist();
loadTrack(0);

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GALLERY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
// üñºÔ∏è Replace src values with your own image URLs or relative file paths
const galleryData = [
    { src: 'https://picsum.photos/seed/maimaidx/400/400', en: 'maimai moment',      zh: 'maimai Êó∂Âàª'   },
    { src: 'https://picsum.photos/seed/anime77/400/400',  en: 'Favourite anime',     zh: 'ÊúÄÁà±ÁöÑÂä®Êº´'    },
    { src: 'https://picsum.photos/seed/pixel23/400/400',  en: 'Art I love',          zh: 'ÂñúÊ¨¢ÁöÑËâ∫ÊúØ'    },
    { src: 'https://picsum.photos/seed/music88/400/400',  en: 'Music vibes',         zh: 'Èü≥‰πêÊ∞õÂõ¥'      },
    { src: 'https://picsum.photos/seed/pastel9/400/400',  en: 'Something beautiful', zh: 'Áæé‰∏ΩÁöÑ‰∫ãÁâ©'    },
    { src: 'https://picsum.photos/seed/gamer5/400/400',   en: 'Gaming memory',       zh: 'Ê∏∏ÊàèËÆ∞ÂøÜ'      },
];

function renderGallery() {
    const galGrid = document.getElementById('galleryGrid');
    galGrid.innerHTML = galleryData.map(g => `
    <div class="gal-item card" data-src="${g.src}">
        <img src="${g.src}" alt="${g[lang]}" loading="lazy">
        <div class="gal-overlay"><span class="gal-caption">${g[lang]}</span></div>
    </div>`).join('');
    document.querySelectorAll('.gal-item').forEach(el => {
        el.addEventListener('click', () => { lbImg.src = el.dataset.src; lightbox.classList.add('open'); });
    });
}
renderGallery();

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ LIGHTBOX ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const lightbox = document.getElementById('lightbox');
const lbImg    = document.getElementById('lbImg');
document.getElementById('lbClose').addEventListener('click', () => lightbox.classList.remove('open'));
lightbox.addEventListener('click', e => { if (e.target === lightbox) lightbox.classList.remove('open'); });
document.addEventListener('keydown', e => { if (e.key === 'Escape') lightbox.classList.remove('open'); });
</script>
</body>
</html>
